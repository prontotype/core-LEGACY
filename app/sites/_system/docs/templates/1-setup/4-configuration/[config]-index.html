{% extends "_layouts/skeleton.html" %}

{% set content %}

# Configuration

All Prontotype configuration is done via [YAML](http://www.yaml.org/) files, so it's worth [familiarising yourself](https://readtapestry.com/s/un7wJiJiD/) with the language if you haven't come across it before.

Below is an overview of how Prontotype configuration works - configuration of specific features is discussed in more detail later.

## Configuration file types

Prontotype supports both **global configuration files** (which affect all sites served by the Prontotype install) and **site-specific configuration files** (which override any global configuration provided).

**Global configuration** files are kept in the `/config` directory, whilst **site-specific** files are stored within the individual site's directory at `/path/to/site/config`.

**Common configuration** files are named `config.yml`. These will be loaded regardless of the [specified environment]({{ pt.pages.getUrlById('setup-sites') }}#environments).

You can also create **environment-specific configuration** files. These can take the place of the `config.yml` file, or they can be used in addition to it - so shared configuration settings can go into `config.yml` and environment-specific tweaks can go in the appropriate environment config file.

To create an environment-specific configuration file, you need to create a YAML file with a name that matches the [value of your environment key]({{ pt.pages.getUrlById('setup-sites') }}#environments) set in your `sites.yml` file. So when the environment is set to `live` the Prontotype will look for a config file called `live.yml`.

All configuration files are optional and the system falls back to sensible defaults without them.

## Configuration cascade

When considering your configuration strategy it's worth understanding how configuration files are loaded in Prontotype. There is effectively a configuration 'cascade' - files are merged together so that later configuration items overwrite earlier ones, if specified.

1. The system configuration file is loaded. This is not directly editable.
1. The global, shared `/config/config.yml` file is loaded.
1. The global, environment-specific `/config/{environment}.yml` file is loaded.
1. The site-specific, common `/path/to/site/config/config.yml` is loaded.
1. The site-specific, environment-specific `/path/to/site/config/{environment}.yml` is loaded.

{% endset %}